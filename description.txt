Описание сборки main-tempate-2022

Сборка выполняет следующие задачи:
1. Сборка html-файлов;
2. Сборка scss-файлов в один css-файл;
3. Создание svg-спрайта;
4. Конвертация ttf-шрифтов в woff, woff2;
5. Минимификация изображений;
6. Минимификация html, css, js;
7. Копирование файлов.

Начало работы
Если скопирована исходная папка main-tempate-2022, то можно сразу начинать в ней работать. Если была скопирована только структура с gulp-файлом и pacage.json, то необходимо установить необходимые пакеты с зависимостями командой npm i . После этого установить gulp локально командой npm install gulp --save-dev. Если gulp не был установлен ранее на компьютере, то нужно установить gulp глобально командой npm install --global gulp-cli

Работа со шрифтами
Скачанные шрифты в формате ttf закинуть в папку fonts в каталоге src. При запуске сборки в папке fonts каталога dist будут сформированы шрифты с прежним названием в формате woff, woff2. Сделать это нужно перед началом работы с проектом. 
Перед началом разработки, отдельной задачей запустить конвертацию шрифта gulp font, так как эта задача была исключена из режима разработки в целях ускорения работы сборки.
Затем необходимо в файле _fonts.scss вызванном миксине передать название шрифта в кавычках. Скопировать миксин font face по количеству установленных шрифтов. Попутно нужно изменить значения жирности и стиля для конкретного шрифта. 
В стилях шрифт подключается просто по названию шрифта, например: font-family: "Montserrat";

Работа с картинками 
При запуске режима разработчика gulp dev gеренос картинок осуществляется автоматически в папку dist/img без изменения, но при запуске задачи build, они будут дополнительно сжиматься.
Изображения помещаются в папку img каталога src. 

Создание svg-спрайта
Если необходимо создать спрайт из svg-иконок, то иконки помещаются в каталог по адресу src/img/svg. В результате в папке img каталога dist создастся спрайт. Для вызова спрайта в html-файле можно воспользоваться сниппетом g-use

Работа с js-файлами
Основной файл скриптов находится по адресу src/js/main.js. Он конвертируется в папку dist/js/main.min.js. Если нужно подключить дополнительные библиотеки, то их нужно поместить в каталог src/js/libs, после чего создастся аналогичный файл в каталоге dist/js/libs. Путь к файлу в этой папке и нужно указывать при разработке. В каталоге src/js/components находятся заготовки, которые можно использовать по мере необходимости, подключив в основном js-файле.

Работа с css-библиотеками
Файл style.min.css компилируется из файлов, находящихся в папке scss каталога src. Если в build нужен сжатый файл css, expanded заменить на compressed внутри function styles (gulpfile).
При необходимости подключения сторонних стилей, нужно их скачать и поместить в каталог src/scss/libs, после чего этот файл скопируется в каталог dist/css/libs с тем же названием. Поэтому файлы стилей нужно скачивать в сжатом виде.

Очистка каталога dist от мусора
Чтобы уменьшить время запуска, из разработки была исключена задача clear, уничтожающая папку dist. Теперь эта задача включена только в задачу build, либо ее можно запустить отдельной командой gulp clear.



Закомментировал в gulpfile.js gulp rename (похоже модуль попал ошибочно)